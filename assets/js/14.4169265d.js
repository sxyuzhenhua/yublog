(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{209:function(e,a,t){"use strict";t.r(a);var l=t(0),s=Object(l.a)({},(function(){var e=this.$createElement;this._self._c;return this._m(0)}),[function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"content"},[t("h2",{attrs:{id:"ä¸€ã€ä»‹ç»"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ä¸€ã€ä»‹ç»"}},[e._v("#")]),e._v(" ä¸€ã€ä»‹ç»")]),e._v(" "),t("p",[e._v("æœ¬è´¨ä¸Šï¼Œwebpackæ˜¯ä¸€ä¸ªç”¨äºç°ä»£javascriptåº”ç”¨ç¨‹åºçš„é™æ€æ¨¡å—æ‰“åŒ…å·¥å…·ï¼Œå½“ webpck å¤„ç†åº”ç”¨ç¨‹åºæ—¶ï¼Œä¼šå†…éƒ¨æ„å»ºä¸€ä¸ªä¾èµ–å›¾(dependency graph), æ­¤ä¾èµ–å›¾å¯¹åº”çš„æ˜ å°„åˆ°é¡¹ç›®æ‰€éœ€è¦çš„æ¯ä¸€ä¸ªæ¨¡å—ï¼Œå¹¶ç”Ÿæˆä¸€ä¸ªæˆ–å¤šä¸ªbundle.")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("npm  install webpack webpack-cli \n")])])]),t("h2",{attrs:{id:"äºŒã€ç¯å¢ƒå·®å¼‚"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#äºŒã€ç¯å¢ƒå·®å¼‚"}},[e._v("#")]),e._v(" äºŒã€ç¯å¢ƒå·®å¼‚")]),e._v(" "),t("ul",[t("li",[e._v("å¼€å‘ç¯å¢ƒï¼š éœ€è¦ç”Ÿæˆsourcemapæ–‡ä»¶ï¼› éœ€è¦æ‰“å°debugä¿¡æ¯ï¼›éœ€è¦live reload å’Œ hot reload çš„åŠŸèƒ½ï¼›")]),e._v(" "),t("li",[e._v("ç”Ÿäº§ç¯å¢ƒï¼šå¯èƒ½éœ€è¦åˆ†ç¦»css æˆå•ç‹¬çš„æ–‡ä»¶ï¼Œä»¥ä½¿å¤šä¸ªé¡µé¢å…±äº«åŒä¸€ä¸ªCSSæ–‡ä»¶ï¼› éœ€è¦å‹ç¼©HTML/CSS/JS ä»£ç ï¼› éœ€è¦å‹ç¼©å›¾ç‰‡")])]),e._v(" "),t("h2",{attrs:{id:"ä¸‰ã€publicpath-åŒºåˆ«"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ä¸‰ã€publicpath-åŒºåˆ«"}},[e._v("#")]),e._v(" ä¸‰ã€publicPath åŒºåˆ«")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("const path = require('path')\nconst HtmlWebpackPlugin = require('html-webpack-plugin');\nmodule.exports = {\nâ€‹    mode: 'development',\nâ€‹    entry: './src/index.js',\nâ€‹    output: {\nâ€‹        path: path.resolve(__dirname, 'dist'),  \nâ€‹        filename: 'main.js',\nâ€‹        publicPath: '/devmiddlepath' \nâ€‹    },\nâ€‹    devServer: {\nâ€‹        port: 8000,\nâ€‹        open: true,\nâ€‹        hot: true,\nâ€‹        static: {\nâ€‹            directory: path.join(__dirname, 'assets'),\nâ€‹            publicPath: '/staticfile', \nâ€‹        },\nâ€‹        devMiddleware: {\nâ€‹            index: true,\nâ€‹            publicPath: '/devmiddlepath',\nâ€‹        }\nâ€‹    },\nâ€‹    plugins: [\nâ€‹        new HtmlWebpackPlugin({\nâ€‹            template: './public/index.html',\nâ€‹            filename: 'index.html'\nâ€‹        })\nâ€‹    ]\n}\n")])])]),t("h2",{attrs:{id:"å››ã€babel-loader-babel-core-é¢„è®¾-çš„å…³ç³»"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#å››ã€babel-loader-babel-core-é¢„è®¾-çš„å…³ç³»"}},[e._v("#")]),e._v(" å››ã€babel-loader & @babel/core & é¢„è®¾ çš„å…³ç³»")]),e._v(" "),t("ul",[t("li",[e._v("babel-loader:  ä½œç”¨æ˜¯è°ƒç”¨@babel/coreï¼›")]),e._v(" "),t("li",[e._v("@babel/core: æä¾›è¿‡ç¨‹ç®¡ç†ï¼ŒæŠŠæºä»£ç è½¬æ¢æˆæŠ½è±¡è¯­æ³•æ ‘ï¼Œæœ¬èº«å¹¶ä¸çŸ¥é“å…·ä½“è½¬ä»€ä¹ˆè¯­æ³•ï¼Œé é¢„è®¾ï¼›")]),e._v(" "),t("li",[e._v("é¢„è®¾ï¼ˆpresetsï¼‰ï¼šå¯ä»¥ç†è§£ä¸ºå„ç§pluginsçš„é›†åˆ")])]),e._v(" "),t("blockquote",[t("ol",[t("li",[e._v("å…ˆæŠŠES6è½¬æˆæŠ½è±¡è¯­æ³•æ ‘ï¼›@babel/core;")]),e._v(" "),t("li",[e._v("ç„¶åè°ƒç”¨preset-envæŠŠES6è¯­æ³•æ ‘è½¬æˆES5è¯­æ³•æ ‘; preset-env;")]),e._v(" "),t("li",[e._v("æŠŠES5è¯­æ³•æ ‘è½¬æˆES5ä»£ç ï¼›@babel/core;")])])]),e._v(" "),t("h4",{attrs:{id:"_4-1-babel-loader"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-babel-loader"}},[e._v("#")]),e._v(" 4.1 babel-loader")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("const core = require('@babel/core')\nconst path = require('path');\nfunction loader(source, inputSourceMap, overrides) {\nâ€‹    const options = {\nâ€‹        presets: ['@babel/preset-env'],\nâ€‹        inputSourceMap,\nâ€‹        sourceMaps: true,\nâ€‹        filename: path.basename(this.resourcePath)\nâ€‹    }\nâ€‹    const {code, map, ast} = core.transform(source, options)\nâ€‹    return this.callback(null, code, map, ast);\n}\nmodule.exports = loader;\n")])])]),t("h4",{attrs:{id:"_4-2-ä½¿ç”¨è‡ªå®šä¹‰çš„-loader-ä¸‰ç§æ–¹æ³•"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-ä½¿ç”¨è‡ªå®šä¹‰çš„-loader-ä¸‰ç§æ–¹æ³•"}},[e._v("#")]),e._v(" 4.2 ä½¿ç”¨è‡ªå®šä¹‰çš„ loader ä¸‰ç§æ–¹æ³•")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("â€‹    resolveLoader: {\nâ€‹        modules: [path.resolve('./loaders'), 'node_modules'] \nâ€‹    },\nâ€‹    module: {\nâ€‹        rules: [\nâ€‹            {\nâ€‹                test: /.jsx?$/,\nâ€‹                use: [ path.resolve('./loaders/babel-loader.js')]  \nâ€‹            },\nâ€‹        ]\nâ€‹    },\n")])])]),t("h4",{attrs:{id:"_4-3-babel-polyfill-babel-runtime-babel-plugin-transform-runtime"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-babel-polyfill-babel-runtime-babel-plugin-transform-runtime"}},[e._v("#")]),e._v(" 4.3 babel-polyfill && babel-runtime && babel-plugin-transform-runtime")]),e._v(" "),t("p",[e._v("webpack ä½¿ç”¨babel:   npm install -D babel-loader @babel/core @babel/preset-env webpack")]),e._v(" "),t("h5",{attrs:{id:"_4-3-1-babel-polyfill"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-1-babel-polyfill"}},[e._v("#")]),e._v(" 4.3.1 babel-polyfill")]),e._v(" "),t("ul",[t("li",[e._v("Babelé»˜è®¤åªè½¬æ¢æ–°çš„ javascript çš„è¯­æ³•ï¼Œè€Œä¸è½¬æ¢æ–°çš„APIï¼Œæ¯”å¦‚ Iteratorï¼ŒGenerator, Set, Map, Proxy, Reflect, Symbol, Promiseç­‰å…¨å±€å¯¹è±¡ï¼Œä»¥åŠä¸€äº›åœ¨å…¨å±€å¯¹è±¡ä¸Šçš„æ–¹æ³•ï¼Œæ¯”å¦‚Object.assign,éƒ½ä¸ä¼šè½¬ç ï¼›")]),e._v(" "),t("li",[e._v("æ¯”å¦‚,  ES6åœ¨Arrayå¯¹è±¡ä¸Šæ–°å¢äº† Array.from æ–¹æ³•ï¼ŒBabelå°±ä¸ä¼šè½¬ç è¿™ä¸ªæ–¹æ³•ï¼Œå¦‚æœæƒ³è®©è¿™ä¸ªæ–¹æ³•è¿è¡Œï¼Œå°±å¿…é¡»ä½¿ç”¨babel-polyfill æ¥è½¬æ¢ç­‰ï¼›")]),e._v(" "),t("li",[e._v("babel-polyfill æ˜¯é€šè¿‡å‘å…¨å±€å¯¹è±¡å’Œå†…ç½®çš„prototypeä¸Šæ·»åŠ æ–¹æ³•æ¥å®ç°çš„ï¼Œæ¯”å¦‚è¿è¡Œç¯å¢ƒä¸­ä¸æ”¯æŒArray.find, å¼•å…¥polyfill ï¼Œæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨es6æ–¹æ³•æ¥ç¼–å†™äº†ï¼Œä½†æ˜¯ç¼ºç‚¹å°±æ˜¯ä¼šé€ æˆå…¨å±€æ±¡æŸ“ï¼›")]),e._v(" "),t("li",[e._v("@babel/preset-env ä¸ºæ¯ä¸€ä¸ªç¯å¢ƒçš„é¢„è®¾ï¼›"),t("br"),e._v('\n"useBuiltIns": false        æ­¤æ—¶ä¸å¯¹polyfillåšæ“ä½œï¼Œå¦‚æœå¼•å…¥@babel-polyfill,åˆ™æ— è§†é…ç½®çš„æµè§ˆå™¨å…¼å®¹ï¼Œå¼•å…¥æ‰€æœ‰çš„polyfillï¼›'),t("br"),e._v('\n"useBuiltIns": "entry"    æ ¹æ®é…ç½®çš„æµè§ˆå™¨å…¼å®¹ï¼Œå¼•å…¥æµè§ˆå™¨ä¸å…¼å®¹çš„polyfill,éœ€è¦åœ¨å…¥å£æ–‡ä»¶æ‰‹åŠ¨æ·»åŠ  import "@babel-plyfill"ï¼Œä¼šè‡ªåŠ¨æ ¹æ®browserlist æ›¿æ¢æˆæµè§ˆå™¨ä¸å…¼å®¹çš„polyfill;éœ€è¦æ‰‹åŠ¨å¼•å…¥ï¼›'),t("br"),e._v('\n"useBuiltIns": "usage"   éœ€è¦çš„æ—¶å€™åœ¨è‡ªåŠ¨å¼•å…¥ï¼Œä¸éœ€è¦æ‰‹åŠ¨å¼•å…¥ï¼›')])]),e._v(" "),t("blockquote",[t("p",[e._v("import 'core-js/stable.js'"),t("br"),e._v("\nimport 'regenerator-runtime/runtime'"),t("br"),e._v(" "),t("img",{attrs:{src:"/image/1523927904.png",alt:"æ‰§è¡Œç»“æœ",title:"æ‰§è¡Œç»“æœæˆªå›¾index"}}),e._v(" "),t("strong",[e._v("å¦‚ä½•ä½¿ç”¨babel-polyfill")])])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('require("@babel/polyfill");\n')])])]),t("h5",{attrs:{id:"_4-3-2-babel-runtime"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-2-babel-runtime"}},[e._v("#")]),e._v(" 4.3.2 babel-runtime")]),e._v(" "),t("ul",[t("li",[e._v("Babelä¸ºäº†è§£å†³å…¨å±€ç©ºé—´æ±¡æŸ“çš„é—®é¢˜ï¼Œæä¾›äº†å•ç‹¬çš„babel-polyfill ï¼›é‡æ–°æ„é€ ï¼Œæ‰€ä»¥ä½“ç§¯æ¯”è¾ƒå¤§ï¼›")]),e._v(" "),t("li",[e._v("ç®€å•çš„è¯´ï¼Œbabel-runtime æ›´åƒæ˜¯ä¸€ç§æŒ‰éœ€åŠ è½½çš„å®ç°ï¼Œå“ªé‡Œéœ€è¦ä½¿ç”¨ Promise , åªè¦åœ¨è¿™ä¸ªæ–‡ä»¶å¤´éƒ¨ import Promise from 'babel-runtime/core-js/promise'")])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("const Promise = require ('@babel/runtime-corejs2/core-js/promise.js');\nexport const p = new Promise((resolve, reject) => {\nâ€‹    console.log(9999);\nâ€‹    resolve(true);\n});\nconsole.log(p)\n")])])]),t("p",[t("img",{attrs:{src:"/image/1523818106.png",alt:"æ‰§è¡Œç»“æœ"}})]),e._v(" "),t("h5",{attrs:{id:"_4-3-3-babel-plugin-transform-runtime"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-3-babel-plugin-transform-runtime"}},[e._v("#")]),e._v(" 4.3.3 babel-plugin-transform-runtime")]),e._v(" "),t("ul",[t("li",[e._v("å¯ç”¨æ’ä»¶ babel-plugin-transform-runtime åï¼ŒBabelå°±ä¼šä½¿ç”¨ babel-runtime ä¸‹çš„å·¥å…·å‡½æ•°; å°±æ˜¯å¯ä»¥åœ¨æˆ‘ä»¬ä½¿ç”¨æ–°çš„APIæ—¶è‡ªåŠ¨ import babel-runtime é‡Œé¢çš„polyfill")]),e._v(" "),t("li",[e._v("å½“æˆ‘ä»¬ä½¿ç”¨ async/await æ—¶ï¼Œè‡ªåŠ¨å¼•å…¥ babel-runtime/regenerator;")]),e._v(" "),t("li",[e._v("å½“æˆ‘ä»¬ä½¿ç”¨ ES6 çš„é™æ€äº‹ä»¶æˆ–è€…å†…ç½®å¯¹è±¡æ—¶ï¼Œè‡ªåŠ¨å¼•å…¥babel-runtime/core-js;")]),e._v(" "),t("li",[e._v("ç§»é™¤å†…è” babel helpers å¹¶æ›¿æ¢ä½¿ç”¨babel-runtime helpers æ¥æ›¿æ¢ï¼›")])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("loader: 'babel-loader',\n  options: {\nâ€‹    presets: ['@babel/preset-env'],\nâ€‹    plugins: [\nâ€‹      [\nâ€‹        '@babel/plugin-transform-runtime', {\nâ€‹          \"corejs\": 2,\nâ€‹        }\nâ€‹      ]\n  ]\n}\n")])])]),t("p",[t("img",{attrs:{src:"/image/1523992722.png",alt:"æ‰§è¡Œç»“æœ"}})]),e._v(" "),t("h2",{attrs:{id:"äº”ã€sourcemap"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#äº”ã€sourcemap"}},[e._v("#")]),e._v(" äº”ã€SourceMap")]),e._v(" "),t("ul",[t("li",[e._v("sourcemapæ˜¯ä¸ºäº†è§£å†³å¼€å‘ä»£ç ä¸å®é™…è¿è¡Œä»£ç ä¸ä¸€è‡´æ—¶å¸®åŠ©æˆ‘ä»¬ debug åˆ°åŸå§‹å¼€å‘ä»£ç çš„æŠ€æœ¯")]),e._v(" "),t("li",[e._v("webpack é€šè¿‡é…ç½®å¯ä»¥è‡ªåŠ¨ç»™æˆ‘ä»¬ source maps æ–‡ä»¶ï¼Œmap æ–‡ä»¶æ˜¯ä¸€ç§å¯¹åº”ç¼–è¯‘æ–‡ä»¶å’Œæºæ–‡ä»¶çš„æ–¹æ³•\n"),t("img",{attrs:{src:"/image/1652864538221.jpg",alt:"æ‰§è¡Œç»“æœ"}})])]),e._v(" "),t("ul",[t("li",[e._v("çœ‹ä¼¼é…ç½®é¡¹å¾ˆå¤šï¼Œå…¶å®åªæ˜¯äº”ä¸ªå…³é”®å­—evalã€ source-mapã€cheapã€ moduleã€å’Œinlineçš„ä»»æ„ç»„åˆ\n"),t("img",{attrs:{src:"/image/1652864616350.jpg",alt:"æ‰§è¡Œç»“æœ"}})])]),e._v(" "),t("ol",[t("li",[e._v("é¡ºåºï¼š [inline-|hidden-|eval-][nosources-][cheap-[module-]]source-map")]),e._v(" "),t("li",[e._v("new webpack.SourceMapDevToolPlugin({ filename: '[name].js.map', exclude: ['vendor.js'], });")])]),e._v(" "),t("blockquote",[t("ul",[t("li",[e._v("å¼€å‘ç¯å¢ƒï¼š eval-cheap-source-map,  cheap-module-source-map , => eval-source-map")]),e._v(" "),t("li",[e._v("æ­£å¼ç¯å¢ƒï¼šhidden-source-map")]),e._v(" "),t("li",[e._v("æœ€ä½³å®è·µï¼š")]),e._v(" "),t("li",[e._v("å¼€å‘ç¯å¢ƒï¼šå¿«ï¼ˆevalï¼‰ï¼Œä¿¡æ¯å…¨å±•ç¤ºæºç ï¼ˆmoduleï¼‰ï¼Œä¸”ç”±äºæ­¤æ—¶ä»£ç æœªå‹ç¼©ï¼Œä¸åœ¨æ„ä»£ç åˆ—ä¿¡æ¯ï¼ˆcheapï¼‰ï¼Œæ‰€ä»¥ï¼šdevtool: 'eval-cheap-module-source-map';")]),e._v(" "),t("li",[e._v("ç”Ÿäº§ç¯å¢ƒ: æˆ‘ä»¬ä¸å¸Œæœ›ä»»ä½•äººåœ¨æµè§ˆå™¨ç›´æ¥çœ‹åˆ°æºç ï¼Œä¸åº”è¯¥æä¾› sourcemap ç»™æµè§ˆå™¨ã€‚æ‰€ä»¥ï¼šdevtool: 'hidden-source-map';  æŠŠsourcemap æ–‡ä»¶å•ç‹¬ä¸Šä¼ åˆ°å†…ç½‘ï¼›\n-ä¸€æ–¹é¢webpackä¼šç”Ÿæˆsourcemapæ–‡ä»¶ä»¥æä¾›ç»™é”™è¯¯æ”¶é›†å·¥å…·æ¯”å¦‚sentry,å¦ä¸€æ–¹é¢åˆä¸ä¼šä¸ºbudle æ·»åŠ ğŸš°æ³¨é‡Šï¼Œä»¥é¿å…æµè§ˆå™¨ä½¿ç”¨")])])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("devtool: false,\nplugins: [\n   new webpack.SourceMapDevToolPlugin({\nâ€‹       filename: '[file].map',\nâ€‹       append: 'n//# sourceMappingURL=https://localhost:9000/[url]',\n   }),\n]\n")])])]),t("h2",{attrs:{id:"å…­ã€-mpaå¤šé¡µé¢é…ç½®"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#å…­ã€-mpaå¤šé¡µé¢é…ç½®"}},[e._v("#")]),e._v(" å…­ã€ MPAå¤šé¡µé¢é…ç½®")]),e._v(" "),t("h4",{attrs:{id:"_6-1-ç›´æ¥å†™ç®€å•é…ç½®"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_6-1-ç›´æ¥å†™ç®€å•é…ç½®"}},[e._v("#")]),e._v(" 6.1 ç›´æ¥å†™ç®€å•é…ç½®")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v(" entry: {\nâ€‹        page1: './src/page1.js',\nâ€‹        page2: './src/page2.js',\nâ€‹    },\noutput: {\nâ€‹        path: path.resolve(__dirname, 'dist'),\nâ€‹        filename: '[name].js',\nâ€‹       \n},\nplugins: [\nâ€‹        new HtmlWebpackPlugin({\nâ€‹            template: './public/index.html',\nâ€‹            filename: 'page1.html',\nâ€‹            chunks: ['page1']\nâ€‹        }),\nâ€‹        new HtmlWebpackPlugin({\nâ€‹            template: './public/index.html',\nâ€‹            filename: 'page2.html',\nâ€‹            chunks: ['page2']\nâ€‹        })\n]\n")])])]),t("h4",{attrs:{id:"_6-2-é‡ç”Ÿ-node-api"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_6-2-é‡ç”Ÿ-node-api"}},[e._v("#")]),e._v(" 6.2 é‡ç”Ÿ node API")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("const pages = fs.readdirSync(path.resolve(__dirname, 'pages'))\nlet entries = pages.reduce((result, cur) => {\nâ€‹    result[path.basename(cur, '.jsx')] = `./pages/${cur}`\nâ€‹    return result;\n},{})\nlet plugins = [];\npages.map(item => {\nâ€‹    console.log(999, item);\nâ€‹     plugins.push(\nâ€‹            new HtmlWebpackPlugin({\nâ€‹            template: 'public/index.html',\nâ€‹            filename: `${path.basename(item, '.jsx')}.html`,\nâ€‹            chunks: [`${path.basename(item, '.jsx')}`]\nâ€‹        })\nâ€‹    )\n})\nmodule.exports = (env) => {\nâ€‹    return {\nâ€‹        entry: entries,\nâ€‹        output: {\nâ€‹            filename: '[name].js',\nâ€‹            path: path.resolve(__dirname, 'dist'),\nâ€‹            clean: true,\nâ€‹           \nâ€‹        },\nâ€‹        plugins: [\nâ€‹            ...plugins,\nâ€‹            new webpack.DefinePlugin({\nâ€‹                \"process.env.NODE_ENV\": JSON.stringify(process.env.NODE_ENV),\nâ€‹            })\nâ€‹        ]\nâ€‹    }\n}\n")])])]),t("h4",{attrs:{id:"_6-3-å€ŸåŠ©-glob-åº“"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_6-3-å€ŸåŠ©-glob-åº“"}},[e._v("#")]),e._v(" 6.3 å€ŸåŠ© glob  åº“")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("const glob = require('glob');\nconst setMPA = () => {\nâ€‹    const entries = {};\nâ€‹    const htmlWebpackPlugins = [];\nâ€‹    const entryFiles = glob.sync(path.join(__dirname, './src/pages/*.js'));\nâ€‹    console.log(123,entryFiles);\nâ€‹    \nâ€‹    entryFiles.forEach(item => {\nâ€‹        let match = item.match(/src/pages/(.*).js/);\nâ€‹        let key = match[1]\nâ€‹        entries[key] = './' + match[0];\nâ€‹        htmlWebpackPlugins.push(\nâ€‹            new HtmlWebpackPlugin({\nâ€‹                template: './public/index.html',\nâ€‹                filename: `${key}.html`,\nâ€‹                chunks: [key]\nâ€‹            })\nâ€‹        )\nâ€‹    })\nâ€‹    \nâ€‹    console.log(111, entries, htmlWebpackPlugins);\nâ€‹    return {\nâ€‹        entries, htmlWebpackPlugins\nâ€‹    }\n}\nconst { entries, htmlWebpackPlugins } = setMPA();\n")])])]),t("h2",{attrs:{id:"ä¸ƒã€å¼•å…¥ç¬¬ä¸‰æ–¹ç±»åº“-lodashï¼Œjqueryï¼‰"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ä¸ƒã€å¼•å…¥ç¬¬ä¸‰æ–¹ç±»åº“-lodashï¼Œjqueryï¼‰"}},[e._v("#")]),e._v(" ä¸ƒã€å¼•å…¥ç¬¬ä¸‰æ–¹ç±»åº“(lodashï¼Œjqueryï¼‰")]),e._v(" "),t("h4",{attrs:{id:"_7-1-ç›´æ¥å¼•å…¥"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_7-1-ç›´æ¥å¼•å…¥"}},[e._v("#")]),e._v(" 7.1 ç›´æ¥å¼•å…¥")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("import _ from 'lodash'\nconsole.log(_.join(['a', 'b', 'c'], '-'))\n")])])]),t("p",[e._v("ç¼ºç‚¹ï¼šæ¯æ¬¡éƒ½è¦å¼•ç”¨")]),e._v(" "),t("h4",{attrs:{id:"_7-2-æ’ä»¶å¼•å…¥"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_7-2-æ’ä»¶å¼•å…¥"}},[e._v("#")]),e._v(" 7.2 æ’ä»¶å¼•å…¥")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("new webpack.ProvidePlugin({\n  $: 'jquery',\n  jQuery: 'jquery',\n});\n")])])]),t("p",[e._v("ç¼ºç‚¹ï¼šæ¯”è¾ƒæ–¹ä¾¿ï¼Œä¸ç”¨æ‰‹å·¥å¼•ç”¨ï¼Œä½†ä¸èƒ½åœ¨å…¨å±€ä¸‹ä½¿ç”¨, åªæ˜¯æ³¨å…¥åˆ°å½“å‰ä¸Šä¸‹æ–‡ï¼›")]),e._v(" "),t("h4",{attrs:{id:"_7-3-æ³¨å…¥å…¨å±€-expose-loader"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_7-3-æ³¨å…¥å…¨å±€-expose-loader"}},[e._v("#")]),e._v(" 7.3 æ³¨å…¥å…¨å±€ (expose-loader)")]),e._v(" "),t("p",[e._v("7.3.1 å†…è”loaderå½¢å¼")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("// ç¬¬ä¸€ç§\nimport __ from 'expose-loader?exposes=__!lodash'\nconsole.log(_.join(['a', 'b', 'c'], '-'))\n\n// ç¬¬äºŒç§\nimport lodash from 'expose-loader?exposes=lodash!lodash'\nconsole.log(lodash.join(['a', 'b', 'c'], '-'));\n")])])]),t("p",[e._v("7.3.2 é…ç½®å½¢å¼")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("// src/index.js\nimport 'lodash'   // æ³¨æ„è¿™é‡Œä¸€å®šè¦å¼•å…¥ï¼Œimport require éƒ½å¯ä»¥\nconsole.log(lodash.join(['a', 'b', 'c'], '-'));\n\n// webpack.config.js æ–‡ä»¶\n    module: {\n        rules: [ \n            {\n                test: require.resolve(\"lodash\"),\n                loader: \"expose-loader\",\n                options: {\n                    exposes: \"lodash\"\n                },\n            },\n       \t]\n    }\n")])])]),t("h4",{attrs:{id:"_7-4-cdn-å½¢å¼"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_7-4-cdn-å½¢å¼"}},[e._v("#")]),e._v(" 7.4 CDN å½¢å¼")])])}],!1,null,null,null);a.default=s.exports}}]);